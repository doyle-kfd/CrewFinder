{% extends "base.html" %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<div class="container">
    <h1>Welcome to your dashboard, {{ user.username }}!</h1>
    <p>Your role: {{ user.role }}</p>
    <a href="{% url 'update_profile' %}" class="btn btn-secondary">Update Profile</a>

    {% if user.role == 'captain' %}
        <!-- Buttons specifically for Captains to manage trips -->
        <a href="{% url 'create_trip' %}" class="btn btn-primary mt-3">Create a New Trip</a>
        
        <!-- List the captain's trips -->
        <h2 class="mt-5">My Trips</h2>
        {% if my_trips %}
            <ul>
                {% for trip in my_trips %}
                    <li>{{ trip.title }} - {{ trip.location }} on {{ trip.date }}</li>
                {% endfor %}
            </ul>
        {% else %}
            <p>You have not created any trips yet.</p>
        {% endif %}
    {% endif %}
</div>
{% endblock %}